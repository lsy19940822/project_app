webpackJsonp([24],{"0vnr":function(e,t,a){e.exports=a.p+"static/img/video_cover2.52b22bb.png"},"9U6E":function(e,t){},"HZt/":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAFNUlEQVRoQ+2ZecydQxTGf0/Cf2LfJUSJfUsQUktJLF2INUHsURoqpdpEhKBI+EPtKqqVUo3WnlDVEDsh1B5LgwZRqkmp+E955MjcZrx9773z3n73ky/pSd7c3PedOec8M+fMnHlGDHHREPefdQBaM2h7X2AEsBuwffZEk++z50vgNUkfD8Tsr9UM2L4AOBo4DNi2oUNLgTeAFyXNbNh3dfOeANg+FpgIxG9VVgG/Zk983yR71qvpsxC4XVL8NpJGAGxvAdwMxMjn8icwJx5JL3XywPZRwJnpWb/SNmbiKknLS1EUA7B9BPAAsHOm/GvgIWC2pO9KjUY72zsAZwPn1ui8UNKrJfqKANi+BLg3U/gZcD8wS9IfJYbatbG9AXAeMA7YK2s3XtK0brq7ArB9EvBUpujNGDVJ33ZT3uS77WFpNg/N+p0s6elOejoCsL078HmmYJ6k05s41rSt7bnAaVm/PSR90U5PWwC2NwQWAMNT5+mSYpr7LrYjPC9Kht4GRkn6vc5wJwAzstVmkaQD+u55ZsD2+8D+6dVMSWOLAaR1/oWswwhJrw8ygMNjx85sjqzbJ2pnwHY439qkpkqaPJjOt2zZvhWYlP4vlDSy6scaAFJ5EOETsgQ4RNJPpQDSfnEdMENSbG49i+1tgLeAHZOSsdWyow7AE8ApqcOlkvL1v6szldh9HLhSUgxET2J7PHBP6vykpFNzRXUAfga2AlYAwyStbGLZtivtfwCuljS7iZ4sjDYCYs/ZFFgmaeu2AGzHSvNeahB1zVlNjWYAngOOy/pPkxSj2VhsP5Jqp+h7oKRYof6V/8yA7cujKkzfxkh6vqm1DMCUpP/aTMcHAapJTkVf26OB+UnPREl3tAMQtcfFwCpJ1UqxCEsOQNL1tk+IhAY2zxScL2lWkcLUyHZUvFGK3ycparPaGYhpHwMsl7RlEwNZzLZyYEoASCMYuiIHjsl0zpV0RqkN278AUc7Pl7Q6NKsh9AmwN7BY0q6lyvN21RmofLspEjp7t0LSZiV2bH8F7AJ8KmmfdjPwGxBZ/66kg0sUV9t0ApBmIzajeUDUWiFFNZbtd4CDgJWSNv4/AUQYPZYGKvyYLGlqt8EqBdDvELoGuDFzdhEwWlLEd0cpDaF+JXGsQA8Cx2deTo8VT9Lf3ZxPoVeUxP1YRkfF0RPIV7VxkgJAsZQuoxOAO5PWI0sP1u1WIeAv4IZKyER9FQlZLKlAfCV1uEzSXe2SONi1j9LHnrb+bBV6tiZkJvVCAtiOgrK1ee2Xs3p1xdyPiWULbiaKuUasQ00xF+MxQdLdxUOeNUysRRRzsYktlbRdrqcOQH6o7qWcDsplz2Tkw7RMvtyL8yl583J6DVKhHwea2CUjj8L5W0qWyHbgejrQJNRD90iZAMR5OD/U91Ra9xo2yYe8hI5X5Yf6pCCnVZZICuZs0MR2JG7rLNyMVkkAIuuDVGqRubWsQD8QVViRIJCHt2Osu1GLwUi3NpDwte8US4VKCZsdN9QScrfKTAdVEse6Yg6/ZJbS3UMcZ+PuoCVdGequAFI4VRnquN+KHBlIej2ow6gEWtKVmY6GRQASiGCqw+kW2RuvWxccj0r6pmSkW21s7wTEkbJ6wRF5FwRWW0Y6t1MMIIGIU9RtNVdMcS8Wtc/Dkp7pBMT2icA5qU6q3pfFFdMV7ZjoOr2NAGSjNzQv+aojkHjUqPfjViXYvCayDIjbngWDfs1a52Vi9QJIMAedLroXh+M5u9YEdbVtTyG0NgYHuu86AAM9ok31/QMEpERP6pl1xwAAAABJRU5ErkJggg=="},VQEL:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("woOf"),i=a.n(s),o=(a("J7DX"),a("Iz4n")),n=a.n(o),r=(a("RB7Z"),a("3TLy")),l=a.n(r),d=(a("cnGM"),a("S6j6")),u=a.n(d),c=(a("uTM9"),a("Jq84")),v=a.n(c),p=(a("jydU"),a("WQwN")),h=a.n(p),A=(a("MHRi"),a("6xqC")),y=a.n(A),f=a("Cz8s"),w=a("iMRv"),P=a("7+uW"),x=a("VsUZ");P.default.use(y.a),P.default.use(n.a).use(l.a).use(u.a).use(v.a).use(h.a);var V={components:{vantHeader:f.default,studyFooter:w.default},data:function(){return{ajax:x,questionText:"视频监控",value1:0,value2:0,show:!1,GetVideoData:[],option1:[{text:"CYCZQ-1标",value:0},{text:"CYCZQ-2标",value:1},{text:"CYCZQ-3标",value:2},{text:"CYCZQ-4标",value:3},{text:"CYCZQ-5标1",value:4},{text:"CYCZQ-5标2",value:5},{text:"CYCZQ-6标",value:6}],option2:[{text:"全部工区",value:0}],isLoading:!0,Section:"",Worksite:"",disabledSection:!1,GetVideoDatashow:!0,curPlayVideo:{},player:"",curPlayerId:""}},created:function(){this.value1=Number(this.$route.query.value||0),this.change1(this.value1)},mounted:function(){},methods:{change1:function(e){this.Section=this.option1[e].text,console.log("当前标段：",this.option1[e].text),this.StaffRetrieveList(),this.getUserWorkPointList(),this.option2.splice(1)},change2:function(e){this.Worksite=0==e?"":this.option2[e].text.replace("#","%23"),console.log("当前工区：",this.Worksite),this.getUserWorkPointList()},getUserWorkPointList:function(){var e=this;x.get("/API/WebAPIDataAudit/GetVideo?Section="+this.Section+"&Worksite="+this.Worksite).then(function(t){if(0!=t.data.result)return 1==t.data.result?(e.GetVideoDatashow=!0,void(e.GetVideoData=t.data.data)):void 0;e.GetVideoDatashow=!1})},StaffRetrieveList:function(){var e=this;x.get("/API/WebAPIDataAudit/GetWorkarea?Section="+this.Section).then(function(t){if(0!=t.data.result)if(1!=t.data.result);else{for(var a in t.data.data)null!=t.data.data[a].WORKAREA&&e.option2.push({text:t.data.data[a].WORKAREA,value:Number(a)});e.disabledSection=!1}else e.disabledSection=!0})},playVideo:function(e){this.show=!0,i()(this.curPlayVideo,e)},videoButton:function(e,t){if(console.log(this.$refs[e]),"play"==t)return this.curPlayerId=e,void this.$refs[e][0].play();"pause"==t&&(this.curPlayerId="",this.$refs[e][0].pause())},videoClose:function(){}}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"study"},[s("vant-header",{directives:[{name:"show",rawName:"v-show",value:""==e.curPlayerId,expression:"curPlayerId == ''"}],attrs:{leftArrow:!0,titleType:1,title:e.questionText,rightType:2}}),e._v(" "),s("div",{staticClass:"container overflow",class:{"container-full":""!=e.curPlayerId}},[s("div",{directives:[{name:"show",rawName:"v-show",value:""==e.curPlayerId,expression:"curPlayerId == ''"}],staticClass:"container_header overflow l-dropdown"},[s("van-dropdown-menu",{staticClass:"van-dropdown"},[s("van-dropdown-item",{attrs:{options:e.option1},on:{change:function(t){return e.change1(e.value1)}},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}}),e._v(" "),s("van-dropdown-item",{attrs:{disabled:e.disabledSection,options:e.option2},on:{change:function(t){return e.change2(e.value2)}},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.GetVideoDatashow,expression:"!GetVideoDatashow"}],staticClass:"flase",staticStyle:{background:"none","text-align":"center",padding:"20px","font-size":"14px",color:"#ddd"}},[e._v("暂无视频源")]),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.GetVideoDatashow,expression:"GetVideoDatashow"}],staticClass:"container_list"},e._l(e.GetVideoData,function(t,i){return s("li",{key:i,staticClass:"overflow"},[s("div",{staticClass:"video-cover",class:{"video-play":e.curPlayerId=="myPlayer"+(i+1)},attrs:{ontouchmove:"return false;"}},[s("van-icon",{directives:[{name:"show",rawName:"v-show",value:e.curPlayerId=="myPlayer"+(i+1),expression:"curPlayerId == 'myPlayer' + (index + 1)"}],staticClass:"video-close",attrs:{name:"cross"},on:{click:function(t){e.videoButton("myPlayer"+(i+1),"pause")}}}),e._v(" "),s("video",{ref:"myPlayer"+(i+1),refInFor:!0,attrs:{"webkit-playsinline":"",playsinline:"",id:"myPlayer"+(i+1),width:"100%",height:"100%",poster:e.ajax.http+t.VIDEOIMAGE.slice(2),"x-webkit-airplay":"true","x5-video-player-fullscreen":"true",preload:"auto","x5-video-player-typ":"h5"}},[s("source",{attrs:{src:t.VIDEOURL,type:"application/x-mpegURL"}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.curPlayerId!="myPlayer"+(i+1),expression:"curPlayerId != 'myPlayer' + (index + 1)"}],staticClass:"video-coverS"}),e._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:e.curPlayerId!="myPlayer"+(i+1),expression:"curPlayerId != 'myPlayer' + (index + 1)"}],staticClass:"video",attrs:{src:a("HZt/"),alt:""},on:{click:function(t){e.videoButton("myPlayer"+(i+1),"play")}}}),e._v(" "),s("img",{attrs:{src:a("0vnr"),alt:"",width:"100%",height:"100%"},on:{click:function(a){return e.playVideo(t)}}})],1),e._v(" "),s("p",[e._v("【"+e._s(t.SECTION)+"】 "+e._s(t.VIDEONAME))])])}),0)])],1)},staticRenderFns:[]};var g=a("VU/8")(V,m,!1,function(e){a("9U6E")},"data-v-17d0e8fa",null);t.default=g.exports}});
//# sourceMappingURL=24.ccd43ac7ebb255735f96.js.map