webpackJsonp([53],{jWo3:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mvHQ"),i=s.n(a),n=(s("oVsm"),s("95Mb")),o=s.n(n),r=(s("GKy3"),s("4vvA")),l=s.n(r),u=(s("jgNZ"),s("syWm")),c=s.n(u),d=(s("dKGA"),s("kSul")),h=s.n(d),v=(s("J7DX"),s("Iz4n")),p=s.n(v),_=(s("RB7Z"),s("3TLy")),S=s.n(_),T=(s("cnGM"),s("S6j6")),m=s.n(T),f=(s("uTM9"),s("Jq84")),A=s.n(f),g=(s("CCOf"),s("rrcz")),w=s.n(g),x=(s("3evy"),s("Irlo")),P=s.n(x),I=(s("2lDz"),s("t42S")),y=s.n(I),b=(s("79O3"),s("fpgn")),D=s.n(b),M=(s("jydU"),s("WQwN")),G=s.n(M),N=(s("9ULi"),s("lQdh")),k=s.n(N),C=s("Cz8s"),E=s("VsUZ"),L=(s("xOwF"),s("7+uW"));L.default.use(k.a),L.default.use(o.a).use(l.a).use(c.a).use(h.a).use(p.a).use(S.a).use(m.a).use(A.a).use(w.a).use(P.a).use(y.a).use(D.a).use(G.a);var U={components:{vantHeader:C.default},data:function(){return{value1:0,value2:0,value3:0,option1:[{text:"CYCZQ-1标",value:0},{text:"CYCZQ-2标",value:1},{text:"CYCZQ-3标",value:2},{text:"CYCZQ-4标",value:3},{text:"CYCZQ-5标1",value:4},{text:"CYCZQ-5标2",value:5},{text:"CYCZQ-6标",value:6}],option2:[],option3:[],disabledSection:!1,disabledUnit:!1,searchValue:"",show:!1,showTop:!1,showList:!1,state:"",WorkArea:"",Ablock:"",worksite:"",num:-1,PierNo:[],list:!0,PierName:"",PierSearch:[]}},created:function(){this.value1=Number(this.$route.query.index),this.Ablock=this.option1[this.value1].text,this.GetMenuTreeList()},mounted:function(){},filters:{getStatus:function(e){var t="";switch(e){case 1:t="未开工";break;case 2:t="正在进行";break;case 3:t="已完成";break;case 4:t="超期已完成";break;case 5:t="超期未完成"}return t}},computed:{},methods:{change1:function(e){this.option2.splice(1),localStorage.setItem("labor_value_id",e),this.Ablock=this.option1[e].text,this.value2=Number(0),this.value3=Number(0),this.num=-1,sessionStorage.setItem("GetMenuTree_list_name",null),sessionStorage.setItem("GetMenuTree_list_index",null),sessionStorage.setItem("GetMenuTree_list_id",null),this.GetMenuTreeList()},change2:function(e){sessionStorage.setItem("GetMenuTree_list_id",this.option2[e].id),this.value3=Number(0),this.option3.splice(1),this.num=-1,this.WorkArea=this.option2[e].text.replace("#","%23"),this.GetMenuTreelistidchange2(),this.GetMenuTreelistidchange3()},change3:function(e){sessionStorage.setItem("GetMenuTree_list_id",this.option3[e].id),this.WorkArea=this.option3[e].text.replace(/#/,"%23"),this.num=-1,this.GetMenuTreelistidchange3()},linkButton:function(e,t){console.log("linkButton",e,t),sessionStorage.setItem("GetMenuTree_Data",i()(e)),e.TimeDays>30?this.$router.push({path:"/fillX",query:{TimeDays:t}}):this.$router.push({path:"/fill",query:{TimeDays:t}})},Buttonlist:function(e){var t=this;E.post("/API/WebAPIDataAudit/FillInProgress?worksite="+sessionStorage.getItem("GetMenuTree_list_id")+"&ButtonValue="+sessionStorage.getItem("GetMenuTree_list_name")+"&TextboxValue="+e.replace("号墩","")).then(function(s){if(1!=s.data.result)0!=s.data.result||(t.showList=!1);else for(var a in t.showList=!0,t.list=!1,t.PierNo.splice(0),t.PierSearch=s.data.data,sessionStorage.setItem("GetMenuTree_type",!1),t.PierSearch){var i=new Date,n=void 0;n=new Date(t.PierSearch[a].REALENDDATE)<i?i-new Date(t.PierSearch[a].REALENDDATE):new Date(t.PierSearch[a].REALENDDATE)-i;var o=Math.floor(n/864e5);console.log("填报时间：",o),null!=t.PierSearch[a].REALENDDATE?(t.PierSearch[a].REALENDDATE=t.PierSearch[a].REALENDDATE.replace("T00:00:00",""),t.PierSearch[a].TimeDays=o):t.PierSearch[a].TimeDays=0,t.PierSearch[a].PierName=e}})},onSearch:function(){var e=this;""==this.searchValue?l()("请输入墩号/梁号"):E.post("/API/WebAPIDataAudit/FillInProgress?worksite="+sessionStorage.getItem("GetMenuTree_list_id")+"&ButtonValue="+sessionStorage.getItem("GetMenuTree_list_name")+"&TextboxValue="+this.searchValue).then(function(t){if(1!=t.data.result)0!=t.data.result||(e.showList=!1);else for(var s in sessionStorage.setItem("GetMenuTree_type",!1),e.showList=!0,e.list=!1,e.PierNo.splice(0),sessionStorage.setItem("GetMenuTree_searchValue_name",e.searchValue+"号墩"),e.PierSearch=t.data.data,e.PierSearch){var a=new Date-new Date(e.PierSearch[s].FULLDATE),i=Math.floor(a/864e5);null!=e.PierSearch[s].FULLDATE?(e.PierSearch[s].REALENDDATE=e.PierSearch[s].REALENDDATE.replace("T"," "),e.PierSearch[s].TimeDays=i):e.PierSearch[s].TimeDays=0,e.PierSearch[s].PierName=sessionStorage.getItem("GetMenuTree_searchValue_name")}})},GetMenuTreeList:function(){var e=this;E.get("/API/WebAPIDataAudit/GetMenuTree?id=&name="+this.Ablock+"&state="+this.state).then(function(t){t.data.result&&E.get("/API/WebAPIDataAudit/GetMenuTree?id="+(t.data.data[0].ID||e1||f1)+"&name="+e.Ablock).then(function(t){if(0==t.data.result)return e.option2.splice(0),e.option2.push({text:"全部工区",value:0}),e.option3.splice(0),e.option3.push({text:"全部工点",value:0}),e.disabledSection=!0,e.show=!0,e.showTop=!1,void(e.disabledUnit=!0);if(1==t.data.result){for(var s in e.option2.splice(0),t.data.data)e.option2.push({text:t.data.data[s].NAME,value:Number(s),id:t.data.data[s].ID});return sessionStorage.setItem("GetMenuTree_list_id",e.option2[0].id),e.disabledSection=!1,e.show=!1,e.showTop=!1,e.disabledUnit=!0,void e.GetMenuTreelistidchange2()}})})},GetMenuTreelistidchange2:function(){var e=this;E.get("/API/WebAPIDataAudit/GetMenuTree?id="+sessionStorage.getItem("GetMenuTree_list_id")+"&name="+(this.WorkArea||this.option2[0].text.replace("#","%23"))+"&state="+this.state).then(function(t){if(e.option3.splice(0),1!=t.data.result){if(0==t.data.result)return e.option3.push({text:"全部工点",value:0}),e.show=!0,void(e.disabledUnit=!0)}else{for(var s in e.show=!1,e.disabledUnit=!1,t.data.data)e.option3.push({text:t.data.data[s].NAME,value:Number(s),id:t.data.data[s].ID});0==e.disabledUnit&&sessionStorage.setItem("GetMenuTree_list_id",e.option3[0].id)}})},GetMenuTreelistidchange3:function(){var e=this;E.get("/API/WebAPIDataAudit/GetMenuTree?id="+sessionStorage.getItem("GetMenuTree_list_id")+"&name="+(this.WorkArea||this.option2[0].text.replace("#","%23"))+"&state="+this.state).then(function(t){return 1==t.data.result?(e.showTop=!0,void(e.show=!1)):0==t.data.result?(e.showTop=!1,void(e.show=!0)):void 0});var t=this;if(""==t.PierSearch)if(null==sessionStorage.getItem("GetMenuTree_list_name")||null==sessionStorage.getItem("GetMenuTree_list_index"));else{var s=sessionStorage.getItem("GetMenuTree_list_index"),a=sessionStorage.getItem("GetMenuTree_list_name");t.studyActives(s,a)}else E.post("/API/WebAPIDataAudit/FillInProgress?worksite="+sessionStorage.getItem("GetMenuTree_list_id")+"&ButtonValue="+sessionStorage.getItem("GetMenuTree_list_name")+"&TextboxValue="+t.searchValue).then(function(e){return 1==e.data.result?(t.showList=!0,t.list=!0,t.PierSearch.splice(0),t.PierNo=e.data.data,void console.log("that.PierNo:",t.PierNo)):0==e.data.result?(t.showList=!0,void(t.list=!1)):void 0})},studyActives:function(e,t){var s=this;sessionStorage.setItem("GetMenuTree_list_name",t),sessionStorage.setItem("GetMenuTree_list_index",e),this.num=e,E.post("/API/WebAPIDataAudit/FillInProgress?worksite="+sessionStorage.getItem("GetMenuTree_list_id")+"&ButtonValue="+t+"&TextboxValue="+this.searchValue).then(function(e){if(1==e.data.result)return s.showList=!0,s.PierNo.splice(0),void(s.PierNo=e.data.data);0!=e.data.result||(s.showList=!1)})}}},V={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("vant-header",{attrs:{leftArrow:!0,titleType:1,title:"进度详情",rightType:2}}),e._v(" "),s("div",{staticClass:"containers overflow"},[s("div",{staticClass:"container_header overflow"},[s("van-dropdown-menu",{staticClass:"Intelligence-dropdown",staticStyle:{width:"30%",float:"left"}},[s("van-dropdown-item",{attrs:{options:e.option1},on:{change:function(t){return e.change1(e.value1)}},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),s("div",{staticClass:"van_icon",staticStyle:{width:"5%",float:"left","text-align":"center","line-height":"50px"}},[s("van-icon",{attrs:{name:"arrow"}})],1),e._v(" "),s("van-dropdown-menu",{staticClass:"Intelligence-dropdown",staticStyle:{width:"30%",float:"left"}},[s("van-dropdown-item",{attrs:{options:e.option2,disabled:e.disabledSection},on:{change:function(t){return e.change2(e.value2)}},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),e._v(" "),s("div",{staticClass:"van_icon",staticStyle:{width:"5%",float:"left","text-align":"center","line-height":"50px"}},[s("van-icon",{attrs:{name:"arrow"}})],1),e._v(" "),s("van-dropdown-menu",{staticClass:"Intelligence-dropdown",staticStyle:{width:"30%",float:"left"}},[s("van-dropdown-item",{attrs:{options:e.option3,disabled:e.disabledUnit},on:{change:function(t){return e.change3(e.value3)}},model:{value:e.value3,callback:function(t){e.value3=t},expression:"value3"}})],1)],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"flase",staticStyle:{"text-align":"center",padding:"20px","font-size":"14px",color:"#ddd"}},[e._v("暂无数据")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showTop,expression:"showTop"}],staticClass:"showTOP"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showTop,expression:"showTop"}],staticClass:"container_top"},[s("ul",[s("li",{staticClass:"activeButton",class:{activeLabel:0==e.num},on:{click:function(t){return e.studyActives(0,"墩")}}},[e._v("墩")]),e._v(" "),s("li",{staticClass:"activeButton",class:{activeLabel:1==e.num},on:{click:function(t){return e.studyActives(1,"梁")}}},[e._v("梁")]),e._v(" "),s("li",{staticClass:"activeButton",class:{activeLabel:2==e.num},on:{click:function(t){return e.studyActives(2,"桩基")}}},[e._v("桩基")]),e._v(" "),s("li",{staticClass:"activeButton",class:{activeLabel:3==e.num},on:{click:function(t){return e.studyActives(3,"承台")}}},[e._v("承台")]),e._v(" "),s("li",{staticClass:"activeButton",class:{activeLabel:4==e.num},on:{click:function(t){return e.studyActives(4,"墩台")}}},[e._v("墩台")])]),e._v(" "),s("form",{attrs:{action:"/"}},[s("van-search",{attrs:{placeholder:"请输入墩号/梁号","show-action":""},on:{search:e.onSearch},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}},[s("div",{staticClass:"onSearch",attrs:{slot:"action"},on:{click:e.onSearch},slot:"action"},[e._v("搜索")])])],1)]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.showList,expression:"!showList"}],staticClass:"flase",staticStyle:{"text-align":"center",padding:"20px","font-size":"14px",color:"#ddd"}},[e._v("暂无数据")]),e._v(" "),s("ul",{directives:[{name:"show",rawName:"v-show",value:e.showList,expression:"showList"}],staticClass:"container_list",staticStyle:{overflow:"auto",height:"580px"}},[e._l(e.PierNo,function(t,a){return s("li",{directives:[{name:"show",rawName:"v-show",value:e.list,expression:"list"}],key:a,staticClass:"list",on:{click:function(s){return e.Buttonlist(t.NAME)}}},[s("van-cell",{staticStyle:{"padding-left":"0"},attrs:{"is-link":""}},[s("span",{staticClass:"van-ellipsis",staticStyle:{"text-align":"left"}},[e._v(e._s(t.NAME))]),e._v(" "),s("span",{staticStyle:{color:"#69966F"}},[e._v(e._s(t.ZHUANGSHU)+"桩")]),e._v(" "),s("span",[e._v(e._s(t.CHENGTAI)+"承台")]),e._v(" "),s("span",[e._v(e._s(t.DUNTAI)+"墩台")])])],1)}),e._v(" "),e._l(e.PierSearch,function(t,a){return s("li",{directives:[{name:"show",rawName:"v-show",value:!e.list,expression:"!list"}],key:a,staticClass:"list_one",on:{click:function(s){return e.linkButton(t,t.TimeDays)}}},[s("van-cell",{staticStyle:{"padding-left":"0"},attrs:{"is-link":""}},[s("span",{staticClass:"list_one",staticStyle:{"margin-right":"10%",width:"110px",display:"inline-block"}},[s("span",{staticStyle:{color:"#aaa","font-size":"14px"}},[e._v(e._s(t.PierName)+"/")]),s("span",{staticStyle:{color:"#333","font-size":"16px"}},[e._v(e._s(t.NAME))])]),e._v(" "),s("span",{staticClass:"list_one"},[1==t.STATUS||5==t.STATUS?s("span",{staticStyle:{color:"#aaa","font-size":"14px"}},[e._v(e._s(e._f("getStatus")(t.STATUS)))]):e._e(),e._v(" "),3==t.STATUS?s("span",{staticStyle:{color:"#69966F","font-size":"14px"}},[e._v(e._s(e._f("getStatus")(t.STATUS)))]):e._e(),e._v(" "),2==t.STATUS?s("span",{staticStyle:{color:"#C86565","font-size":"14px"}},[e._v(e._s(e._f("getStatus")(t.STATUS)))]):e._e(),e._v(" "),4==t.STATUS?s("span",{staticStyle:{color:"#E19B52","font-size":"14px"}},[e._v(e._s(e._f("getStatus")(t.STATUS)))]):e._e(),e._v(" "),s("span",{staticStyle:{color:"#AAAAAA","font-size":"14px"}},[e._v(e._s(t.REALENDDATE))])]),e._v(" "),1==t.STATUS||2==t.STATUS?s("span",{staticStyle:{color:"#5986C2","font-size":"14px",float:"right"}},[e._v("填报")]):e._e(),e._v(" "),3==t.STATUS||4==t.STATUS||5==t.STATUS?s("span",{staticStyle:{"font-size":"14px",float:"right"},style:{color:t.TimeDays>30?"#AAAAAA":"#DA9F63"}},[e._v(e._s(t.TimeDays>30?"查看":"修改"))]):e._e()])],1)})],2)])],1)},staticRenderFns:[]};var W=s("VU/8")(U,V,!1,function(e){s("kmeU")},"data-v-45daa0cc",null);t.default=W.exports},kmeU:function(e,t){}});
//# sourceMappingURL=53.4cb2d07bf1f9f6570ffe.js.map