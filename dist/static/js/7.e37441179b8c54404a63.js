webpackJsonp([7,44],{"6d7H":function(t,e){},ASHv:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=s("bOdI"),a=s.n(i),o=(s("K7fX"),s("G7a8")),r=s.n(o),l=(s("jydU"),s("WQwN")),c=s.n(l),u=(s("dKGA"),s("kSul")),h=s.n(u),v=(s("jgNZ"),s("syWm")),d=s.n(v),m={components:(n={},a()(n,d.a.name,d.a),a()(n,h.a.name,h.a),a()(n,c.a.name,c.a),a()(n,r.a.name,r.a),n),props:["showtip","allAnswers","alreadyCheck"],data:function(){return{time:27e5,show:!0}},methods:{onchange1:function(){var t=this.allAnswers,e=this.alreadyCheck;console.log(t),t.filter(function(s,n,i){return null!=t[n]&&void 0!=t[n]&&""!=t[n]?e[n]="yesChecked":e[n]="answer-button",e});var s=!this.showtip;this.$emit("showtip",s,e)},submitPaper:function(){this.$emit("examItem")}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"exam-footer"},[s("van-row",[s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"icon-box",on:{click:t.onchange1}},[s("van-icon",{attrs:{name:"newspaper-o"}}),t._v(" "),s("p",{staticClass:"f-text"},[t._v("答题卡")])],1)]),t._v(" "),s("van-col",{attrs:{span:"8"}},[s("div",{staticClass:"icon-box"},[s("van-icon",{staticStyle:{"font-size":"26px","margin-top":"-9px"},attrs:{name:"underway-o"}}),t._v(" "),s("div",{staticClass:"f-text"},[s("van-count-down",{attrs:{millisecond:"",time:t.time,format:"mm:ss"}})],1)],1)]),t._v(" "),s("van-col",{attrs:{span:"8"},on:{click:t.submitPaper}},[s("div",{staticClass:"icon-box"},[s("van-icon",{attrs:{name:"todo-list-o"}}),t._v(" "),s("p",{staticClass:"f-text"},[t._v("交卷")])],1)])],1)],1)},staticRenderFns:[]};var p=s("VU/8")(m,f,!1,function(t){s("lUzK")},"data-v-8f317314",null);e.default=p.exports},Maz4:function(t,e,s){"use strict";e.__esModule=!0,e.default=void 0;var n=s("VxeN"),i=s("JsfV"),a=(0,n.createNamespace)("radio-group"),o=a[0],r=a[1],l=o({mixins:[(0,i.ParentMixin)("vanRadio")],props:{value:null,disabled:Boolean,checkedColor:String,iconSize:[Number,String]},watch:{value:function(t){this.$emit("change",t)}},render:function(){return(0,arguments[0])("div",{class:r(),attrs:{role:"radiogroup"}},[this.slots()])}});e.default=l},MpXg:function(t,e,s){"use strict";e.__esModule=!0,e.default=void 0;var n=s("VxeN"),i=s("2SbZ"),a=(0,n.createNamespace)("radio"),o=a[0],r=a[1],l=o({mixins:[(0,i.CheckboxMixin)({bem:r,role:"radio",parent:"vanRadio"})],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(t){(this.parent||this).$emit("input",t)}},checked:function(){return this.currentValue===this.name}},methods:{toggle:function(){this.currentValue=this.name}}});e.default=l},OMF1:function(t,e,s){s("XqYu")},OeKT:function(t,e,s){s("XqYu")},RGh6:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("MHRi");var n=s("6xqC"),i=s.n(n),a=(s("GKy3"),s("4vvA")),o=s.n(a),r=(s("FDxC"),s("w+oK")),l=s.n(r),c=(s("d9cu"),s("vkhW")),u=s.n(c),h=(s("OeKT"),s("aysW")),v=s.n(h),d=(s("OMF1"),s("Maz4")),m=s.n(d),f=(s("dlG5"),s("MpXg")),p=s.n(f),w=(s("tLo2"),s("blRl")),g=s.n(w),x=(s("K7fX"),s("G7a8")),_=s.n(x),C=s("Cz8s"),A=s("ASHv");function T(t){return(t=t.toString())[1]?t:"0"+t}var b=s("VKKs"),q=s("VsUZ");s("7+uW").default.use(o.a).use(l.a).use(u.a).use(v.a).use(m.a).use(p.a).use(g.a).use(_.a);var D={components:{vantHeader:C.default,examFooter:A.default},data:function(){return{questionText:"",questionList:[],questionCurrent:{},answerList:[],current:0,total:null,nextNone:!1,preNone:!0,rightAnswers:[],allAnswers:[],isSingleActive:-1,isMultipleActive:[!1,!1,!1,!1],multipleChose:"",show:!0,selectTotal:0,IDCard:this.$route.query.IDCard,Score:0,ExamName:"",Date:"",showTips:!1,ExamTimeStart:"",rightTotal:0,optionStyle:!1,time:27e5,examTime:"",answerAlrealTotal:0,alreadyCheck:[]}},created:function(){var t,e,s,n,i,a,o,r;this.ExamTimeStart=(t=new Date,e=new Date(t),s=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),a=e.getHours(),o=e.getMinutes(),r=e.getSeconds(),[s,n,i].map(T).join("-")+" "+[a,o,r].map(T).join(":")),this.submitExam()},mounted:function(){this.getExamList()},watch:{current:function(t,e){for(var s in this.questionCurrent=this.questionList[this.current],this.answerList=[],this.questionCurrent)"XA"!=s&&"XB"!=s&&"XC"!=s&&"XD"!=s||this.questionCurrent[s]&&this.answerList.push(this.questionCurrent[s])}},methods:{shwotipChange:function(t,e){console.log(this.showTips,"22",e),this.showTips=t},showButton:function(t){console.log(t),this.showTips=t},cancel:function(){this.showTips=!1},gotoQuestion:function(t){this.showTips=!1,this.current=Number(t)},getExamList:function(){var t=this;q.get("/API/WebAPIDataAudit/GetPaper?IDcard="+this.$route.query.IDCard).then(function(e){if(e.data.result){for(var s in console.log(e.data.data),t.questionList=e.data.data,console.log("全部问题",t.questionList),t.total=e.data.data.length,t.questionCurrent=t.questionList[t.current],console.log("当前问题",t.questionCurrent),t.questionText=t.questionCurrent.GZ,t.questionCurrent)"XA"!=s&&"XB"!=s&&"XC"!=s&&"XD"!=s||t.questionCurrent[s]&&t.answerList.push(t.questionCurrent[s]);console.log("可选答案列表",t.answerList),t.rightAnswerHandle()}})},pre:function(){this.isSingleActive=-1,this.isMultipleActive=[!1,!1,!1,!1],this.current>0?this.current--:(this.preNone=!0,o()("这是第一题！"))},next:function(){this.isSingleActive=-1,this.isMultipleActive=[!1,!1,!1,!1],this.current<this.total-1?this.current++:(this.nextNone=!1,this.submitExam())},rightAnswerHandle:function(){for(var t in this.questionList)this.rightAnswers.push(this.questionList[t].ZQDA);console.log("正确答案：",this.rightAnswers)},choose:function(t,e){var s=this;if(1===e)this.isSingleActive=t,this.allAnswers[this.current]=s.answer(t),console.log("序号",this.current+1,"本题单选","我选择的答案是：",this.allAnswers[this.current],"本题的答案：",this.questionList[this.current].ZQDA),console.log("当前答案",this.allAnswers);else if(2===e){var n="";this.$set(this.isMultipleActive,t,!this.isMultipleActive[t]),this.isMultipleActive.filter(function(t,e,i){return 1==t&&(n+=s.answer(e)),n}),this.allAnswers[this.current]=n,console.log("序号",this.current+1,"本题多选","我选择的答案是：",this.allAnswers[this.current],"本题的答案：",this.questionList[this.current].ZQDA),console.log("当前答案",this.allAnswers)}this.selectTotal=0,this.allAnswers.filter(function(t,e,n){void 0!=t&&""!=t&&(s.selectTotal+=1)})},answer:function(t){var e;switch(t){case 0:e="A";break;case 1:e="B";break;case 2:e="C";break;case 3:e="D"}return e},submitExam:function(){var t=this;console.log(this.allAnswers);var e=this;e.selectTotal=0,this.allAnswers.filter(function(t,s,n){void 0!=t&&""!=t&&(e.selectTotal+=1)});for(var s=0;s<this.rightAnswers.length;s++)this.rightAnswers[s]===this.allAnswers[s]&&(this.Score+=Math.floor(100/this.questionList.length),this.rightTotal+=1);if(0!=this.questionList.length){var n,a,o;this.ExamName=this.questionList[0].BIDSECTION+this.questionList[0].GZ+(n=new Date,a="",[(o=new Date(n)).getFullYear(),o.getMonth()+1,o.getDate()].map(T).join(a));var r=this.$moment(new Date).format("YYYY/MM/DD"),l=new Date(r+" 00:45:00"),c=new Date(r+" "+this.$refs.countDown.$el.innerHTML),u=l.getTime()-c.getTime();console.log("timestamp",r+" "+this.$refs.countDown.$el.innerHTML,"data1:",l,"data2:",new Date(r+" "+this.$refs.countDown.$el.innerHTML),"data3:",u);Math.floor(u/864e5);var h=u%864e5,v=Math.floor(h/36e5),d=h%36e5,m=Math.floor(d/6e4),f=d%6e4,p=Math.round(f/1e3);v=0==v?"00":v<9?"0"+v:v,m=0==m?"00":m<9?"0"+m:m,p=0==p?"00":p<9?"0"+p:p,this.examTime=v+":"+m+":"+p,console.log(this.examTime),localStorage.setItem("mitakeQuesitionTotal",this.total-(this.total-this.selectTotal+this.rightTotal)),this.allAnswers.filter(function(t,s,n){return t&&(e.answerAlrealTotal+=1),e.answerAlrealTotal}),localStorage.setItem("mitakeQuesitionTotal",this.answerAlrealTotal-this.rightTotal),localStorage.setItem("mitakeQuesitionTotal1",this.total-this.answerAlrealTota),localStorage.setItem("allAnswers",this.allAnswers),console.log("总题数：",this.total,"答对的题数：",this.rightTotal,"未答的题：",this.total-this.selectTotal,"答错的题：",this.total-(this.total-this.selectTotal+this.rightTotal),"作答的答案",this.allAnswers),b.a.set("total",this.total),b.a.set("allAnswers",this.allAnswers),b.a.set("questionList",this.questionList),i.a.confirm({title:"交卷提醒",message:"您的试卷还有"+(this.total-this.selectTotal)+"道题未做答，是否依然提交？"}).then(function(){var e=(new Date).getFullYear(),s=(new Date).getMonth()+1,n=(new Date).getDate(),i=(new Date).getHours(),a=(new Date).getMinutes(),o=(new Date).getSeconds();t.Date=e+"/"+s+"/"+n+" "+i+":"+a+":"+o,q.post("/API/WebAPIDataAudit/SubmitScore?IDCard="+t.IDCard+"&Score="+t.Score+"&ExamName="+t.ExamName).then(function(t){console.log("提交成功",t)}).catch(function(t){console.log(t)}),t.$router.push({path:"/gradeIssue",query:{IDCard:t.IDCard,Score:t.Score,ExamName:t.ExamName,Date:t.Date,misitakeRate:(t.total-t.rightTotal)/t.total*100+"%",subject:t.questionText,ExamTimeStart:t.examTime}})}).catch(function(){})}}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("vant-header",{attrs:{leftArrow:!0,preventGoBack:!1,titleType:1,title:t.questionText+"测试",rightType:2}}),t._v(" "),s("van-count-down",{ref:"countDown",staticStyle:{display:"none"},attrs:{millisecond:"",time:t.time,format:"HH:mm:ss"},on:{finish:function(t){}}}),t._v(" "),"单选"==t.questionCurrent.TMLX?s("div",{staticClass:"question-container"},[s("p",{staticClass:"van-hairline--bottom exam-title"},[t._v("单选题")]),t._v(" "),s("div",[s("p",{attrs:{id:t.questionCurrent.ID}},[t._v(t._s(t.current+1)+"."+t._s(t.questionCurrent.TIGAN))]),t._v(" "),s("ul",t._l(t.answerList,function(e,n){return s("li",{class:{active:t.isSingleActive==n||t.answer(n)==t.allAnswers[t.current]},on:{click:function(e){return t.choose(n,1)}}},[s("div",{staticClass:"back",class:t.alreadyCheck[n]}),t._v(" "),s("span",{staticClass:"chooseIndex"},[t._v(t._s(t._f("chooseIndex")(n+1)))]),s("span",[t._v(t._s(e))])])}),0)])]):t._e(),t._v(" "),"多选"==t.questionCurrent.TMLX?s("div",{staticClass:"question-container"},[s("p",{staticClass:"van-hairline--bottom exam-title"},[t._v("多选题")]),t._v(" "),s("div",[s("p",{attrs:{id:t.questionCurrent.ID}},[t._v(t._s(t.current+1)+"."+t._s(t.questionCurrent.TIGAN))]),t._v(" "),s("ul",t._l(t.answerList,function(e,n){return s("li",{class:{active:1==t.isMultipleActive[n]||(t.allAnswers[t.current]&&t.allAnswers[t.current].indexOf(t.answer(n)))>-1},on:{click:function(e){return t.choose(n,2)}}},[s("span",{staticClass:"chooseIndex"},[t._v(t._s(t._f("chooseIndex")(n+1)))]),s("span",[t._v(t._s(e))])])}),0)])]):t._e(),t._v(" "),"判断"==t.questionCurrent.TMLX?s("div",{staticClass:"question-container"},[s("p",{staticClass:"van-hairline--bottom exam-title"},[t._v("判断题")]),t._v(" "),s("div",[s("p",{attrs:{id:t.questionCurrent.ID}},[t._v(t._s(t.current+1)+"."+t._s(t.questionCurrent.TIGAN))]),t._v(" "),s("ul",t._l(t.answerList,function(e,n){return s("li",{attrs:{id:e.ID},on:{click:function(e){return t.choose(n,3)}}},[s("span",{staticClass:"chooseIndex"},[t._v(t._s(t._f("chooseIndex")(n+1)))]),t._v(t._s(e)+"\n\t\t\t\t")])}),0)])]):t._e(),t._v(" "),s("van-popup",{staticClass:"login-tips",model:{value:t.showTips,callback:function(e){t.showTips=e},expression:"showTips"}},[s("div",{staticClass:"answer-container"},[s("h4",[t._v("试卷答题卡")])]),t._v(" "),s("ul",{staticClass:"answer-list"},[t._l(t.questionList.length,function(e,n){return s("li",[s("div",{staticClass:"answer-button",class:t.alreadyCheck[n],on:{click:function(e){return t.gotoQuestion(n)}}},[t._v(t._s(n+1))])])}),t._v(" "),s("div",{staticClass:"answer-buttons answer-error",on:{click:function(e){return t.cancel()}}},[t._v("取消")]),t._v(" "),s("div",{staticClass:"answer-buttons answer-success",on:{click:function(e){return t.submitExam()}}},[t._v("交卷")])],2)]),t._v(" "),s("div",{staticClass:"question-btn"},[s("van-button",{staticClass:"primary",class:{none:t.preNone},on:{click:function(e){return t.pre()}}},[t._v("上一题")]),t._v(" "),s("van-button",{staticClass:"primary",class:{none:t.nextNone},on:{click:function(e){return t.next()}}},[t._v("下一题")])],1),t._v(" "),s("exam-footer",{attrs:{showtip:t.showTips,allAnswers:t.allAnswers,alreadyCheck:t.alreadyCheck},on:{list:t.showButton,examItem:function(e){return t.submitExam()},showtip:t.shwotipChange}})],1)},staticRenderFns:[]};var M=s("VU/8")(D,k,!1,function(t){s("Zdwi")},"data-v-09a53b25",null);e.default=M.exports},V08F:function(t,e){},Zdwi:function(t,e){},aysW:function(t,e,s){"use strict";e.__esModule=!0,e.default=void 0;var n=s("VxeN"),i=s("JsfV"),a=(0,n.createNamespace)("checkbox-group"),o=a[0],r=a[1],l=o({mixins:[(0,i.ParentMixin)("vanCheckbox")],props:{max:Number,disabled:Boolean,iconSize:[Number,String],checkedColor:String,value:{type:Array,default:function(){return[]}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggleAll:function(t){this.children.forEach(function(e){e.toggle(t)})}},render:function(){return(0,arguments[0])("div",{class:r()},[this.slots()])}});e.default=l},d9cu:function(t,e,s){s("XqYu"),s("s1Ps"),s("6d7H")},dlG5:function(t,e,s){s("XqYu"),s("s1Ps"),s("V08F")},lUzK:function(t,e){},vkhW:function(t,e,s){"use strict";e.__esModule=!0,e.default=void 0;var n=s("VxeN"),i=s("2SbZ"),a=(0,n.createNamespace)("checkbox"),o=a[0],r=a[1],l=o({mixins:[(0,i.CheckboxMixin)({bem:r,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t){var e=this;void 0===t&&(t=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout(function(){e.checked=t})},setParentValue:function(t){var e=this.parent,s=e.value.slice();if(t){if(e.max&&s.length>=e.max)return;-1===s.indexOf(this.name)&&(s.push(this.name),e.$emit("input",s))}else{var n=s.indexOf(this.name);-1!==n&&(s.splice(n,1),e.$emit("input",s))}}}});e.default=l}});
//# sourceMappingURL=7.e37441179b8c54404a63.js.map