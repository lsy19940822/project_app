webpackJsonp([52],{"89Sd":function(e,t){},Xg43:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),n=(a("oVsm"),a("95Mb")),o=a.n(n),r=(a("GKy3"),a("4vvA")),l=a.n(r),c=(a("jgNZ"),a("syWm")),u=a.n(c),d=(a("dKGA"),a("kSul")),v=a.n(d),h=(a("J7DX"),a("Iz4n")),_=a.n(h),p=(a("RB7Z"),a("3TLy")),S=a.n(p),f=(a("cnGM"),a("S6j6")),T=a.n(f),A=(a("uTM9"),a("Jq84")),m=a.n(A),g=(a("CCOf"),a("rrcz")),w=a.n(g),x=(a("3evy"),a("Irlo")),P=a.n(x),y=(a("2lDz"),a("t42S")),I=a.n(y),b=(a("79O3"),a("fpgn")),D=a.n(b),M=(a("jydU"),a("WQwN")),N=a.n(M),C=(a("9ULi"),a("lQdh")),G=a.n(C),k=a("Cz8s"),L=a("VsUZ"),E=(a("xOwF"),a("7+uW"));E.default.use(G.a),E.default.use(o.a).use(l.a).use(u.a).use(v.a).use(_.a).use(S.a).use(T.a).use(m.a).use(w.a).use(P.a).use(I.a).use(D.a).use(N.a);var U={components:{vantHeader:k.default},data:function(){return{value1:0,value2:0,value3:0,option1:[{text:"CYCZQ-1标",value:0},{text:"CYCZQ-2标",value:1},{text:"CYCZQ-3标",value:2},{text:"CYCZQ-4标",value:3},{text:"CYCZQ-5标1",value:4},{text:"CYCZQ-5标2",value:5},{text:"CYCZQ-6标",value:6}],option2:[{text:"工区",value:0}],option3:[{text:"工点",value:0}],disabledSection:!1,disabledUnit:!1,searchValue:"",show:!1,showTop:!1,showList:!1,state:"",WorkArea:"",Ablock:"",worksite:"",num:-1,PierNo:[],list:!0,PierName:"",PierSearch:[],GetMenuTreeID:""}},created:function(){this.value1=Number(this.$route.query.index),this.Ablock=this.option1[this.value1].text,this.GetMenuTreeList()},mounted:function(){},filters:{getStatus:function(e){var t="";switch(e){case 1:t="未开工";break;case 2:t="正在进行";break;case 3:t="已完成";break;case 4:t="延期已完成";break;case 5:t="延期未完成"}return t}},computed:{},methods:{change1:function(e){this.option2.splice(1),localStorage.setItem("labor_value_id",e),this.Ablock=this.option1[e].text,this.value2=Number(0),this.value3=Number(0),sessionStorage.setItem("GetMenuTree_list_name",null),sessionStorage.setItem("GetMenuTree_list_index",null),this.GetMenuTreeList()},change2:function(e){sessionStorage.setItem("GetMenuTree_list_id",this.option2[e].id),this.value3=Number(0),this.option3.splice(1),this.WorkArea=this.option2[e].text.replace("#","%23"),this.GetMenuTreelistidchange2(),this.GetMenuTreelistidchange3()},change3:function(e){sessionStorage.setItem("GetMenuTree_list_id",this.option3[e].id),this.WorkArea=this.option3[e].text.replace(/#/,"%23"),this.GetMenuTreelistidchange3()},linkButton:function(e,t){sessionStorage.setItem("GetMenuTree_Data",i()(e)),this.$router.push({path:"/fill",query:{TimeDays:t}})},Buttonlist:function(e){var t=this;L.post("/API/WebAPIDataAudit/getAreProject?id="+this.GetMenuTreeID+"&state=").then(function(a){if(1!=a.data.result)0!=a.data.result||(t.showList=!1);else for(var s in t.showList=!0,t.list=!1,t.PierNo.splice(0),t.PierSearch=a.data.data,sessionStorage.setItem("GetMenuTree_type",!1),t.PierSearch){var i=new Date-new Date(t.PierSearch[s].REALENDDATE),n=Math.floor(i/864e5);null!=t.PierSearch[s].REALENDDATE?(t.PierSearch[s].REALENDDATE=t.PierSearch[s].REALENDDATE.replace("T00:00:00",""),t.PierSearch[s].TimeDays=n):t.PierSearch[s].TimeDays=0,t.PierSearch[s].PierName=e}})},onSearch:function(){var e=this;""==this.searchValue?l()("请输入墩号/梁号"):L.get("/API/WebAPIDataAudit/getAreProject?id="+this.GetMenuTreeID+"&state=").then(function(t){if(1!=t.data.result)0!=t.data.result||(e.showList=!1);else for(var a in sessionStorage.setItem("GetMenuTree_type",!1),e.showList=!0,e.list=!1,e.PierNo.splice(0),sessionStorage.setItem("GetMenuTree_searchValue_name",e.searchValue+"号墩"),e.PierSearch=t.data.data,e.PierSearch){var s=new Date-new Date(e.PierSearch[a].FULLDATE),i=Math.floor(s/864e5);null!=e.PierSearch[a].FULLDATE?(e.PierSearch[a].REALENDDATE=e.PierSearch[a].REALENDDATE.replace("T"," "),e.PierSearch[a].TimeDays=i):e.PierSearch[a].TimeDays=0,e.PierSearch[a].PierName=sessionStorage.getItem("GetMenuTree_searchValue_name")}})},GetMenuTreeList:function(){var e=this;L.get("/API/WebAPIDataAudit/GetMenuTree?id=&name="+this.Ablock+"&state="+this.state).then(function(t){t.data.result&&(e.GetMenuTreeID=t.data.data[0].ID,L.get("/API/WebAPIDataAudit/GetMenuTree?id="+t.data.data[0].ID+"&name="+e.Ablock).then(function(t){if(0==t.data.result)return e.disabledSection=!0,e.show=!0,e.showTop=!1,void(e.disabledUnit=!0);if(1==t.data.result){for(var a in t.data.data)e.option2.push({text:t.data.data[a].NAME,value:Number(a)+Number(1),id:t.data.data[a].ID});return console.log(e.option2),e.disabledSection=!1,e.show=!0,e.showTop=!1,void(e.disabledUnit=!0)}}))})},GetMenuTreelistidchange2:function(){var e=this;L.get("/API/WebAPIDataAudit/GetMenuTree?id="+sessionStorage.getItem("GetMenuTree_list_id")+"&name="+this.WorkArea+"&state="+this.state).then(function(t){if(1!=t.data.result)0!=t.data.result||(e.disabledUnit=!0);else for(var a in e.disabledUnit=!1,t.data.data)e.option3.push({text:t.data.data[a].NAME,value:Number(a)+Number(1),id:t.data.data[a].ID})})},GetMenuTreelistidchange3:function(){var e=this;L.get("/API/WebAPIDataAudit/GetMenuTree?id="+sessionStorage.getItem("GetMenuTree_list_id")+"&name="+this.WorkArea+"&state="+this.state).then(function(t){return 1==t.data.result?(e.showTop=!0,void(e.show=!1)):0==t.data.result?(e.showTop=!1,void(e.show=!1)):void 0});var t=this;if(""==t.PierSearch)if(null==sessionStorage.getItem("GetMenuTree_list_name")||null==sessionStorage.getItem("GetMenuTree_list_index"));else{var a=sessionStorage.getItem("GetMenuTree_list_index"),s=sessionStorage.getItem("GetMenuTree_list_name");t.studyActives(a,s)}else L.post("/API/WebAPIDataAudit/FillInProgress?worksite="+sessionStorage.getItem("GetMenuTree_list_id")+"&ButtonValue="+sessionStorage.getItem("GetMenuTree_list_name")+"&TextboxValue="+t.searchValue).then(function(e){return 1==e.data.result?(t.showList=!0,t.list=!0,t.PierSearch.splice(0),t.PierNo=e.data.data,void console.log("that.PierNo:",t.PierNo)):0==e.data.result?(t.showList=!0,void(t.list=!1)):void 0})},studyActives:function(e,t){var a=this;console.log("111"),sessionStorage.setItem("GetMenuTree_list_name",t),sessionStorage.setItem("GetMenuTree_list_index",e),this.num=e,L.get("/API/WebAPIDataAudit/getAreProject?id="+this.GetMenuTreeID+"&state=").then(function(e){if(1==e.data.result)return a.showList=!0,a.PierNo.splice(0),void(a.PierNo=e.data.data);0!=e.data.result||(a.showList=!1)})}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vant-header",{attrs:{leftArrow:!0,titleType:1,title:"超期工程",rightType:2}}),e._v(" "),a("div",{staticClass:"containers overflow"},[a("div",{staticClass:"container_header overflow"},[a("van-dropdown-menu",{staticClass:"Intelligence-dropdown",staticStyle:{width:"30%",float:"left"}},[a("van-dropdown-item",{attrs:{options:e.option1},on:{change:function(t){return e.change1(e.value1)}},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),a("div",{staticClass:"van_icon",staticStyle:{width:"5%",float:"left","text-align":"center","line-height":"50px"}},[a("van-icon",{attrs:{name:"arrow"}})],1),e._v(" "),a("van-dropdown-menu",{staticClass:"Intelligence-dropdown",staticStyle:{width:"30%",float:"left"}},[a("van-dropdown-item",{attrs:{options:e.option2,disabled:e.disabledSection},on:{change:function(t){return e.change2(e.value2)}},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),e._v(" "),a("div",{staticClass:"van_icon",staticStyle:{width:"5%",float:"left","text-align":"center","line-height":"50px"}},[a("van-icon",{attrs:{name:"arrow"}})],1),e._v(" "),a("van-dropdown-menu",{staticClass:"Intelligence-dropdown",staticStyle:{width:"30%",float:"left"}},[a("van-dropdown-item",{attrs:{options:e.option3,disabled:e.disabledUnit},on:{change:function(t){return e.change3(e.value3)}},model:{value:e.value3,callback:function(t){e.value3=t},expression:"value3"}})],1)],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"flase",staticStyle:{"text-align":"center",padding:"20px","font-size":"14px",color:"#ddd"}},[e._v("暂无数据")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showTop,expression:"showTop"}],staticClass:"showTOP"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showTop,expression:"showTop"}],staticClass:"container_top"},[a("ul",[a("li",{staticClass:"activeButton",class:{activeLabel:0==e.num},on:{click:function(t){return e.studyActives(0,"墩")}}},[e._v("墩")]),e._v(" "),a("li",{staticClass:"activeButton",class:{activeLabel:1==e.num},on:{click:function(t){return e.studyActives(1,"梁")}}},[e._v("梁")]),e._v(" "),a("li",{staticClass:"activeButton",class:{activeLabel:2==e.num},on:{click:function(t){return e.studyActives(2,"桩基")}}},[e._v("桩基")]),e._v(" "),a("li",{staticClass:"activeButton",class:{activeLabel:3==e.num},on:{click:function(t){return e.studyActives(3,"承台")}}},[e._v("承台")]),e._v(" "),a("li",{staticClass:"activeButton",class:{activeLabel:4==e.num},on:{click:function(t){return e.studyActives(4,"墩台")}}},[e._v("墩台")])]),e._v(" "),a("form",{attrs:{action:"/"}},[a("van-search",{attrs:{placeholder:"请输入墩号/梁号","show-action":""},on:{search:e.onSearch},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}},[a("div",{staticClass:"onSearch",attrs:{slot:"action"},on:{click:e.onSearch},slot:"action"},[e._v("搜索")])])],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showList,expression:"!showList"}],staticClass:"flase",staticStyle:{"text-align":"center",padding:"20px","font-size":"14px",color:"#ddd"}},[e._v("暂无数据")]),e._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.showList,expression:"showList"}],staticClass:"container_list",staticStyle:{overflow:"auto",height:"580px"}},[e._l(e.PierNo,function(t,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:e.list,expression:"list"}],key:s,staticClass:"list",on:{click:function(a){return e.Buttonlist(t.NAME)}}},[a("van-cell",{staticStyle:{"padding-left":"0"},attrs:{"is-link":""}},[a("span",{staticClass:"van-ellipsis",staticStyle:{"text-align":"left"}},[e._v(e._s(t.NAME))]),e._v(" "),a("span",{staticStyle:{color:"#69966F"}},[e._v(e._s(t.ZHUANGSHU)+"桩")]),e._v(" "),a("span",[e._v(e._s(t.CHENGTAI)+"承台")]),e._v(" "),a("span",[e._v(e._s(t.DUNTAI)+"墩台")])])],1)}),e._v(" "),e._l(e.PierSearch,function(t,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:!e.list,expression:"!list"}],key:s,staticClass:"list_one",on:{click:function(a){return e.linkButton(t,t.TimeDays)}}},[a("van-cell",{staticStyle:{"padding-left":"0"},attrs:{"is-link":""}},[a("span",{staticClass:"list_one",staticStyle:{"margin-right":"10%",width:"110px",display:"inline-block"}},[a("span",{staticStyle:{color:"#aaa","font-size":"14px"}},[e._v(e._s(t.PierName)+"/")]),a("span",{staticStyle:{color:"#333","font-size":"16px"}},[e._v(e._s(t.NAME))])]),e._v(" "),a("span",{staticClass:"list_one"},[1==t.STATUS||5==t.STATUS?a("span",{staticStyle:{color:"#aaa","font-size":"14px"}},[e._v(e._s(e._f("getStatus")(t.STATUS)))]):e._e(),e._v(" "),3==t.STATUS?a("span",{staticStyle:{color:"#69966F","font-size":"14px"}},[e._v(e._s(e._f("getStatus")(t.STATUS)))]):e._e(),e._v(" "),2==t.STATUS?a("span",{staticStyle:{color:"#C86565","font-size":"14px"}},[e._v(e._s(e._f("getStatus")(t.STATUS)))]):e._e(),e._v(" "),4==t.STATUS?a("span",{staticStyle:{color:"#E19B52","font-size":"14px"}},[e._v(e._s(e._f("getStatus")(t.STATUS)))]):e._e(),e._v(" "),a("span",{staticStyle:{color:"#AAAAAA","font-size":"14px"}},[e._v(e._s(t.REALENDDATE))])]),e._v(" "),1==t.STATUS||2==t.STATUS||5==t.STATUS?a("span",{staticStyle:{color:"#5986C2","font-size":"14px",float:"right"}},[e._v("填报")]):e._e(),e._v(" "),3==t.STATUS||4==t.STATUS?a("span",{staticStyle:{"font-size":"14px",float:"right"},style:{color:t.TimeDays>30?"#AAAAAA":"#DA9F63"}},[e._v(e._s(t.TimeDays>30?"查看":"修改"))]):e._e()])],1)})],2)])],1)},staticRenderFns:[]};var z=a("VU/8")(U,W,!1,function(e){a("89Sd")},"data-v-4c6019f8",null);t.default=z.exports}});
//# sourceMappingURL=52.5d3f187809318c418014.js.map