webpackJsonp([1],{"3G4J":function(t,e,a){"use strict";var i=a("R6lU");e.__esModule=!0,e.default=void 0;var s=i(a("AA6R")),n=a("VxeN"),r=a("c0G2"),l=a("tkaZ"),o=(0,n.createNamespace)("stepper"),u=o[0],c=o[1];function h(t,e){return String(t)===String(e)}var d=u({props:{value:null,integer:Boolean,disabled:Boolean,inputWidth:[Number,String],buttonSize:[Number,String],asyncChange:Boolean,disableInput:Boolean,decimalLength:Number,min:{type:[Number,String],default:1},max:{type:[Number,String],default:1/0},step:{type:[Number,String],default:1},defaultValue:{type:[Number,String],default:1},showPlus:{type:Boolean,default:!0},showMinus:{type:Boolean,default:!0}},data:function(){var t=(0,n.isDef)(this.value)?this.value:this.defaultValue,e=this.format(t);return h(e,this.value)||this.$emit("input",e),{currentValue:e}},computed:{minusDisabled:function(){return this.disabled||this.currentValue<=this.min},plusDisabled:function(){return this.disabled||this.currentValue>=this.max},inputStyle:function(){var t={};return this.inputWidth&&(t.width=(0,n.addUnit)(this.inputWidth)),this.buttonSize&&(t.height=(0,n.addUnit)(this.buttonSize)),t},buttonStyle:function(){if(this.buttonSize){var t=(0,n.addUnit)(this.buttonSize);return{width:t,height:t}}}},watch:{value:function(t){h(t,this.currentValue)||(this.currentValue=this.format(t))},currentValue:function(t){this.$emit("input",t),this.$emit("change",t)}},methods:{filter:function(t){return t=String(t).replace(/[^0-9.-]/g,""),this.integer&&-1!==t.indexOf(".")&&(t=t.split(".")[0]),t},format:function(t){return t=""===(t=this.filter(t))?0:+t,t=Math.max(Math.min(this.max,t),this.min),(0,n.isDef)(this.decimalLength)&&(t=t.toFixed(this.decimalLength)),t},onInput:function(t){var e=t.target.value;if(""!==e){var a=this.filter(e);if((0,n.isDef)(this.decimalLength)&&-1!==a.indexOf(".")){var i=a.split(".");a=i[0]+"."+i[1].slice(0,this.decimalLength)}h(e,a)||(t.target.value=a),this.emitChange(a)}},emitChange:function(t){this.asyncChange?(this.$emit("input",t),this.$emit("change",t)):this.currentValue=t},onChange:function(){var t=this.type;if(this[t+"Disabled"])this.$emit("overlimit",t);else{var e,a,i,s="minus"===t?-this.step:+this.step,n=this.format((e=+this.currentValue,a=s,i=Math.pow(10,10),Math.round((e+a)*i)/i));this.emitChange(n),this.$emit(t)}},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){var e=this.format(t.target.value);t.target.value=e,this.currentValue=e,this.$emit("blur",t),(0,r.resetScroll)()},longPressStep:function(){var t=this;this.longPressTimer=setTimeout(function(){t.onChange(t.type),t.longPressStep(t.type)},200)},onTouchStart:function(){var t=this;clearTimeout(this.longPressTimer),this.isLongPress=!1,this.longPressTimer=setTimeout(function(){t.isLongPress=!0,t.onChange(),t.longPressStep()},600)},onTouchEnd:function(t){clearTimeout(this.longPressTimer),this.isLongPress&&(0,l.preventDefault)(t)}},render:function(){var t=this,e=arguments[0],a=function(e){return{on:{click:function(){t.type=e,t.onChange()},touchstart:function(){t.type=e,t.onTouchStart(e)},touchend:t.onTouchEnd,touchcancel:t.onTouchEnd}}};return e("div",{class:c()},[e("button",(0,s.default)([{directives:[{name:"show",value:this.showMinus}],style:this.buttonStyle,class:c("minus",{disabled:this.minusDisabled})},a("minus")])),e("input",{attrs:{type:"number",role:"spinbutton","aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.currentValue,disabled:this.disabled||this.disableInput},class:c("input"),domProps:{value:this.currentValue},style:this.inputStyle,on:{input:this.onInput,focus:this.onFocus,blur:this.onBlur}}),e("button",(0,s.default)([{directives:[{name:"show",value:this.showPlus}],style:this.buttonStyle,class:c("plus",{disabled:this.plusDisabled})},a("plus")]))])}});e.default=d},"D/hQ":function(t,e){},UQ5F:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("oVsm");var i=a("95Mb"),s=a.n(i),n=(a("jgNZ"),a("syWm")),r=a.n(n),l=(a("dKGA"),a("kSul")),o=a.n(l),u=(a("J7DX"),a("Iz4n")),c=a.n(u),h=(a("RB7Z"),a("3TLy")),d=a.n(h),g=(a("cnGM"),a("S6j6")),p=a.n(g),v=(a("GKy3"),a("4vvA")),m=a.n(v),f=(a("uTM9"),a("Jq84")),A=a.n(f),b=(a("CCOf"),a("rrcz")),y=a.n(b),S=(a("3evy"),a("Irlo")),x=a.n(S),F=(a("2lDz"),a("t42S")),Y=a.n(F),w=(a("79O3"),a("fpgn")),D=a.n(w),N=(a("jydU"),a("WQwN")),C=a.n(N),U=(a("poqm"),a("3G4J")),_=a.n(U),E=a("VsUZ"),B=a("7+uW");B.default.use(_.a),B.default.use(Y.a).use(D.a).use(C.a),B.default.use(s.a).use(r.a).use(o.a).use(c.a).use(d.a).use(p.a).use(m.a).use(A.a).use(y.a).use(x.a);var I={data:function(){return{value1:0,value2:0,option1:[{text:"CYCZQ-1标",value:0},{text:"CYCZQ-2标",value:1},{text:"CYCZQ-3标",value:2},{text:"CYCZQ-4标",value:3},{text:"CYCZQ-5标1",value:4},{text:"CYCZQ-5标2",value:5},{text:"CYCZQ-6标",value:6}],option2:[{text:"全部工区",value:0}],cycaqData:[],TypeWork:"",Unit:"",Section:"",NameArrS:[],examRecord:[],BD:"",GD:"",eachatDataX:[],eachatDataY:[],eachatft:!1,disabledSection:!1,user:{UserNumber:"",AllUserNumber:""},percentage:{percentage1:0},getFullYear:"",num:0,year:!1}},created:function(){this.value1=Number(this.$route.query.ValueId),this.change1(this.value1);var t=new Date;this.getFullYear=t.getFullYear();for(var e=this.getFullYear;e>this.getFullYear-5;e--)console.log(e),this.cycaqData.push(e);localStorage.setItem("labor_value_id",this.value1),this.StaffRetrieveList(),this.getWorkUserNumberS(),this.capacityEachart(),this.capacityEachartS()},mounted:function(){},computed:{},methods:{yearShow:function(){this.year=!0},studyActives:function(t,e){console.log("当前年：",e),this.num=t,this.getFullYear=e,this.year=!1,this.capacityEachartS()},pev:function(){this.getFullYear==(new Date).getFullYear()-4?m()("已是最小年份"):(this.getFullYear--,this.getFullYear==(new Date).getFullYear()&&this.studyActives(0,this.getFullYear),this.getFullYear==(new Date).getFullYear()-1&&this.studyActives(1,this.getFullYear),this.getFullYear==(new Date).getFullYear()-2&&this.studyActives(2,this.getFullYear),this.getFullYear==(new Date).getFullYear()-3&&this.studyActives(3,this.getFullYear),this.getFullYear==(new Date).getFullYear()-4&&this.studyActives(4,this.getFullYear),this.getFullYear=this.getFullYear,this.capacityEachartS())},next:function(){this.getFullYear==(new Date).getFullYear()?m()("已是最大年份"):(this.getFullYear++,this.getFullYear==(new Date).getFullYear()&&this.studyActives(0,this.getFullYear),this.getFullYear==(new Date).getFullYear()-1&&this.studyActives(1,this.getFullYear),this.getFullYear==(new Date).getFullYear()-2&&this.studyActives(2,this.getFullYear),this.getFullYear==(new Date).getFullYear()-3&&this.studyActives(3,this.getFullYear),this.getFullYear==(new Date).getFullYear()-4&&this.studyActives(4,this.getFullYear),this.getFullYear=this.getFullYear,this.capacityEachartS())},change1:function(t){this.Section=this.option1[t].text,console.log("当前标段：",this.option1[t].text),""!=this.Unit&&(this.Unit="",this.value2=Number(0)),this.option2.splice(1),this.StaffRetrieveList(),this.capacityEachart(),this.capacityEachartS(),this.getWorkUserNumberS(),localStorage.setItem("labor_value_id",t)},change2:function(t){this.Unit=this.option2[t].text.replace("#","%23"),console.log("当前工区：",this.option2[t].text),this.getWorkUserNumberS(),this.capacityEachart(),this.capacityEachartS(),this.getWorkUserNumberS()},capacityEachart:function(){var t=this;"全部工区"==this.Unit&&(this.Unit=""),E.get("/API/WebAPIDataAudit/getUserTypeNumber?section="+this.Section+"&worksite="+this.Unit).then(function(e){if(e.data.result){""==e.data.data?t.eachatft=!1:t.eachatft=!0;var a=t.$echarts.init(document.getElementById("chart_example"));t.eachatDataX=e.data.data;for(var i=[],s=0;s<t.eachatDataX.length;s++)i.push(t.eachatDataX[s].WORKTYPE);var n=[];for(s=0;s<t.eachatDataX.length;s++)n.push(t.eachatDataX[s].COUNT);var r=["#7AB182","#7099D0","#998BCF","#DCC050","#80BAD6","#D98A5E","#767FDA"],l={xAxis:{data:i,type:"category",axisLabel:{interval:0,formatter:function(t){return t.split("").join("\n")}},axisTick:{alignWithLabel:!0}},grid:{left:"10%",bottom:"30%"},tooltip:{show:!0,trigger:"axis",formatter:"{b}<br />{c}人",backgroundColor:"#fff",borderColor:"#161A25",borderWidth:1,borderRadius:4,padding:[1,8],textStyle:{fontSize:12,color:"#333"}},yAxis:{},dataZoom:[{type:"inside",throttle:"50",minValueSpan:12,start:0,end:20}],series:[{name:"人数",type:"bar",barWidth:20,data:n,itemStyle:{color:function(t){var e=r.length;return r[t.dataIndex%e]}}}]};a.setOption(l),window.addEventListener("resize",function(){a.resize()})}})},capacityEachartS:function(){var t=this;new Date;console.log("this.getFullYear:",this.getFullYear),E.get("/API/WebAPIDataAudit/getPeopleNumber?year="+this.getFullYear).then(function(e){if(e.data.result){console.log("getUserTypeNumber",e),t.eachatDataY=e.data.data;for(var a=[],i=0;i<t.eachatDataY.length;i++)a.push(t.eachatDataY[i].Month);var s=[];for(i=0;i<t.eachatDataY.length;i++)s.push(t.eachatDataY[i].PeopleNumber);var n=t.$echarts.init(document.getElementById("chart_examples")),r={grid:{left:"0%",right:"0%",bottom:"10%",containLabel:!0},xAxis:{type:"category",data:a},yAxis:{type:"value"},tooltip:{show:!0,trigger:"axis",formatter:t.getFullYear+"/{b}<br />{c}人",backgroundColor:"#fff",borderColor:"#161A25",borderWidth:1,borderRadius:4,padding:[1,8],textStyle:{fontSize:12,color:"#333"}},series:[{data:s,type:"line",itemStyle:{color:"#99D0FF"},label:{normal:{show:!0,position:"top",textStyle:{textCenter:"center",color:"#333"}}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(112,153,208,.4)"},{offset:1,color:"rgba(112,153,208,0)"}],global:!1}}}]};n.setOption(r),window.addEventListener("resize",function(){n.resize()})}})},StaffRetrieveList:function(){var t=this;E.get("/API/WebAPIDataAudit/GetWorkarea?Section="+this.Section).then(function(e){if(0!=e.data.result)if(1!=e.data.result);else{for(var a in e.data.data)null!=e.data.data[a].WORKAREA&&t.option2.push({text:e.data.data[a].WORKAREA,value:Number(a)});t.disabledSection=!1}else t.disabledSection=!0})},getWorkUserNumberS:function(){var t=this;E.get("/API/WebAPIDataAudit/getWorkUserNumber?section="+this.Section+"&worksite="+this.Unit).then(function(e){console.log(e.data.data),0!=e.data.data.UserNumber||0!=e.data.data.UserNumber||e.data.data.UserNumber>0||e.data.data.UserNumber>0?(t.user.UserNumber=e.data.data.UserNumber,t.user.AllUserNumber=e.data.data.AllUserNumber,t.percentage.percentage1=Number(t.user.UserNumber/t.user.AllUserNumber*100)):(t.user.UserNumber=0,t.user.AllUserNumber=0,t.percentage.percentage1=0)})}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"containers overflow"},[a("div",{staticClass:"container_header overflow"},[a("van-dropdown-menu",{staticClass:"van-dropdown"},[a("van-dropdown-item",{attrs:{id:t.value1,options:t.option1},on:{change:function(e){return t.change1(t.value1)}},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),t._v(" "),a("van-dropdown-item",{attrs:{id:t.value2,disabled:t.disabledSection,options:t.option2},on:{change:function(e){return t.change2(t.value2)}},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1)],1)]),t._v(" "),a("div",{staticClass:"container_nav"},[a("div",{staticClass:"navLists"},[a("p",{staticStyle:{"font-size":"13px",margin:"0"}},[t._m(0),t._v(" "),a("span",{staticStyle:{color:"rgba(102,102,102,1)"}},[t._v("总出勤职工")]),t._v(" "),a("span",{staticStyle:{float:"right"}},[a("span",[t._v(t._s(t.user.UserNumber)+"人")]),t._v(" "),a("span",{staticStyle:{color:"rgba(64,69,94,1)"}},[t._v("/"+t._s(t.user.AllUserNumber)+"人")])])]),t._v(" "),a("p",{staticStyle:{"margin-bottom":"0"}},[a("van-progress",{attrs:{color:"#6A94B9",percentage:t.percentage.percentage1,"stroke-width":"6"}})],1)])]),t._v(" "),a("div",{staticClass:"container_list container_lists",style:{height:t.eachatft?"auto":"100px"}},[t._m(1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.eachatft,expression:"!eachatft"}],staticClass:"flase",staticStyle:{"text-align":"center",padding:"20px","font-size":"14px",color:"#ddd"}},[t._v("暂无工种统计")]),t._v(" "),a("div",{class:{isShowEt:!t.eachatft},attrs:{id:"chart_example"}})]),t._v(" "),a("div",{staticClass:"container_list container_lists",style:{height:t.eachatft?"auto":"100px"}},[t._m(2),t._v(" "),a("div",{staticStyle:{background:"rgba(246,246,246,1)",width:"100%",padding:"10px 0"}},[a("div",{staticClass:"setItem",staticStyle:{width:"124px",margin:"0 auto",overflow:"hidden"}},[a("van-icon",{staticStyle:{"margin-top":"4px",float:"left"},attrs:{name:"arrow-left",color:"#98D2FF"},on:{click:function(e){return t.pev()}}}),t._v(" "),a("span",{staticStyle:{color:"#98D2FF",float:"left",margin:"0 10px"},on:{click:function(e){return t.yearShow()}}},[a("span",{staticStyle:{color:"#98D2FF",float:"left"}},[t._v(t._s(t.getFullYear)+"年")]),a("van-icon",{staticStyle:{"margin-top":"4px",float:"left"},attrs:{name:"edit",color:"#98D2FF"}})],1),t._v(" "),a("van-icon",{staticStyle:{"margin-top":"4px",float:"left"},attrs:{name:"arrow",color:"#98D2FF"},on:{click:function(e){return t.next()}}})],1)]),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.year,expression:"year"}]},t._l(t.cycaqData,function(e,i){return a("li",{ref:"style",refInFor:!0,class:{active:t.num==i},attrs:{id:i},on:{click:function(a){return t.studyActives(i,e)}}},[t._v(t._s(e)+"年")])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.eachatft,expression:"!eachatft"}],staticClass:"flase",staticStyle:{"text-align":"center",padding:"20px","font-size":"14px",color:"#ddd"}},[t._v("暂无人员变化")]),t._v(" "),a("div",{class:{isShowEt:!t.eachatft},attrs:{id:"chart_examples"}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("img",{attrs:{src:a("dwpa"),alt:"",width:"11px"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"van-hairline--bottom exam-title"},[e("img",{attrs:{src:a("dy0I"),alt:""}}),this._v("工种统计")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"van-hairline--bottom exam-title"},[e("img",{attrs:{src:a("pcuy"),alt:""}}),this._v("人员变化")])}]};var V=a("VU/8")(I,k,!1,function(t){a("D/hQ")},"data-v-5ccfcab1",null);e.default=V.exports},dwpa:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWBAMAAAA2mnEIAAAAKlBMVEVqlLlplrlqlLn////I1+WhvNN/o8Pq8PX3+vuHqce3y93h6fHX4ux1nL6FNFuCAAAAAnRSTlPiSRXbpWIAAAB/SURBVBjTYxBQggFGBiY4W4FBCQHQ2boePUkwtrpbSi2MHa6ktAvGXqKk5ANjL1dS2gJj33BLsYSxtYyNnaBs3ROuUV1Qtk6ZkpKqUjaYHQG0aHHQHjD7CFDY+lQbmN2qpDTDtzkIzDadObN85mGI3mJjIDDH4mY4G9mPSH4HALe8L3/Jn3gHAAAAAElFTkSuQmCC"},dy0I:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcBAMAAACAI8KnAAAAJ1BMVEVHcEw/U4w/U4tDUY3///9AU4uVn77z9PeDkLRWZ5insMlzgarj5u1tmYOEAAAABHRSTlMA8K0mz/NSEwAAAGRJREFUGNNjYFYMhQMhAwbDUCQgzKCKzA1iEEXmBjKEhpYi8UnmzuhE4bZ4kcyNTJuKzA1zSSWOG3NmKjI3xAWNO7sDhTvHZRtx3Nk7o3dHd8zcDXGVCxwAuWhBhxawaMGOGikAIWqIATxjHk0AAAAASUVORK5CYII="},kYRV:function(t,e){},pcuy:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcBAMAAACAI8KnAAAAMFBMVEVHcEw/U4xDUY0/U4v///9AU4tNX5P09fhod6PIzt6Llrjd4Op7iK+lrsjo6vG1vdIqOPYfAAAABHRSTlMA8Catbe5JOwAAALNJREFUGNNjYDIMhQNhBQbFUCQgxGCKzA1mEEXmBjKEogAwN+x7ZSsSN9vFxScHwb3i4uKXvg3O3eLi4tLpD+c+AXJP+sG5U4DcbG84t8XFxb/FB86NKnGZ9nspnBuatQLZGaFda9Kmz4Fz1wH15rpMg3LjgQa7vLjiCeVeAXG9s12OgrkRLmBwx2UqmBsL4ZaVlIK50RCuxxQINxzC9TrViixbgXAGInDQgg4tYNGCHTVSAGpEhsCEMujsAAAAAElFTkSuQmCC"},poqm:function(t,e,a){a("XqYu"),a("kYRV")}});
//# sourceMappingURL=1.60a36da7f14fbf16096e.js.map